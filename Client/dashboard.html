<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartGarden</title>
    <link rel="icon" href="./logo.png" type="image/png">
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="css/dashboard.css"> <!-- Sử dụng tệp CSS cho dashboard -->

</head>

<body>
    <header>
        <h2>Hệ Thống Quản Lý Vườn Thông Minh</h2>
    </header>
    <main>
        <section id="system-overview">
            <h3>Thông Tin Thời Gian Thực <span style="font-weight: 500;">(Dữ liệu được cập nhật 30'/lần)</span></h3>
            <button id="refresh-button">Làm mới</button>
            <table>
                <thead>
                    <tr>
                        <th>Nhiệt độ không khí</th>
                        <th>Độ ẩm không khí</th>
                        <th>Độ ẩm đất</th>
                        <th>Trạng thái máy bơm</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td id="temperature">25°C</td>
                        <td id="humidity">60%</td>
                        <td id="soil-moisture">30%</td>
                        <td id="pump-status">Đang bật</td>
                    </tr>
                </tbody>
            </table>
        </section>
        <!-- <section id="pump-management">
            <h3>Quản Lý Máy Bơm</h3>
            <div>
                <h4>Chế Độ Bơm Thủ Công</h4>
            </div>
            <div>
                <h4>Chế Độ Bơm Tự Động</h4>
                <label for="water-amount">Lượng nước (L):</label>
                <input type="number" id="water-amount" placeholder="Nhập lượng nước">
                <br>
                <div class="row">
                    <div class=" col-sm-3 col-12 d-inline">
                        <label for="time-set">Chọn giờ:</label>
                    <input type="time" id="time-set">
                    </div>
                    <div class="col-12 col-sm-3 d-inline">
                        <label for="date-set">Chọn ngày:</label>
                        <input type="date" id="date-set">
                    </div>
                    
                    <div class="col-12 col-sm-3 d-inline">
                        <label for="repeat-set">Lặp lại:</label>
                        <select id="repeat-set">
                            <option value="Không">Không</option>
                            <option value="Hằng ngày">Hằng ngày</option>
                            <option value="Hằng tuần">Hằng tuần</option>
                        </select>
                    </div>
                    
                    <button onclick="setAutoPump()">Cài Đặt</button>
                </div>
                <button onclick="togglePump(true)">Bật Bơm</button>
                <button onclick="togglePump(false)">Tắt Bơm</button>
                
            </div>
        </section> -->
        <section id="pump-management">
            <h3>Quản Lý Bơm nước</h3>
        
            <!-- Radio buttons để chọn chế độ -->
            <div>
                <label>
                    <input type="radio" name="pump-mode" id="manual-mode" onclick="toggleMode('manual')" checked>
                    Chế Độ Bơm Thủ Công
                </label>
                <label>
                    <input type="radio" name="pump-mode" id="automatic-mode" onclick="toggleMode('automatic')">
                    Chế Độ Bơm Tự Động
                </label>
            </div>
        
            <!-- Chế Độ Bơm Thủ Công -->
            <div id="manual-controls">
                <h4>Chế Độ Bơm Thủ Công</h4>
                <button onclick="togglePump(true)">Bật Bơm</button>
                <button onclick="togglePump(false)">Tắt Bơm</button>
            </div>
        
            <!-- Chế Độ Bơm Tự Động -->
            <div id="automatic-controls" style="display:none;">
                <h4>Chế Độ Bơm Tự Động</h4>
                <label for="water-amount">Lượng nước (L):</label>
                <input type="number" id="water-amount" placeholder="Nhập lượng nước">
                <br>
                <div class="row">
                        <div class="w-100">
                            <label for="time-set">Chọn giờ:</label>
                            <input type="time" id="time-set">
                        </div>
                        <div class="w-100">
                            <label for="date-set">Chọn ngày:</label>
                        <input type="date" id="date-set">
                        </div>
                        <div class="w-100">
                            <label for="repeat-set">Lặp lại:</label>
                        <select id="repeat-set">
                            <option value="Không">Không</option>
                            <option value="Hằng ngày">Hằng ngày</option>
                            <option value="Hằng tuần">Hằng tuần</option>
                        </select>
                        </div>
                        <div class="w-100">
                            
                        </div>
                        
                        
                        
                        <button onclick="setAutoPump()">Lưu</button>
                </div>
                
                <button onclick="togglePump(true)">Bật Bơm</button>
                <button onclick="togglePump(false)">Tắt Bơm</button>
            </div>
        </section>
        
        <section id="plant-management">
            <h3>Quản Lý Cây Trồng</h3>
            <form id="plant-form">
                <input type="text" id="plant-type" placeholder="Loại thực vật" required autocomplete="off">
                <div id="suggestions" class="suggestions-box" style="display: none;"></div> <!-- Danh sách gợi ý -->
                <br>
                <div class="row">
                    <button type="submit">Tìm Kiếm</button>
                    <button type="button" id="customize-button">Tùy Chỉnh</button>
                </div>

                <div id="customization-fields" style="display: none;">
                    <label for="custom-temperature">Nhiệt độ(°C) :</label> <br>
                    <input type="number" id="custom-temperature" placeholder="Nhập nhiệt độ" required> <br>

                    <label for="custom-soil-moisture">Độ ẩm đất (%):</label> <br>
                    <input type="number" id="custom-soil-moisture" placeholder="Nhập độ ẩm đất" required> <br>

                    <label for="custom-humidity">Độ ẩm không khí (%):</label> <br>
                    <input type="number" id="custom-humidity" placeholder="Nhập độ ẩm không khí" required> <br>

                    <button type="button" id="apply-button"  onclick="applySettings()">Áp Dụng</button>
                </div>
            </form>
            <div id="ideal-conditions" style="display: none;">
                <h4>Điều Kiện Lý Tưởng</h4>
                <table id="suggested-conditions">
                    <thead>
                        <tr>
                            <th>Nhiệt độ lý tưởng</th>
                            <th>Độ ẩm đất lý tưởng</th>
                            <th>Độ ẩm không khí lý tưởng</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td id="ideal-temperature">-</td>
                            <td id="ideal-soil-moisture">-</td>
                            <td id="ideal-humidity">-</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="tracking-charts">
            <h3>Biểu Đồ Theo Dõi</h3>
            <canvas id="tracking-chart" width="400" height="200"></canvas>
            <canvas id="humidity-air-chart" width="400" height="200"></canvas> <!-- Biểu đồ độ ẩm không khí -->
            <canvas id="soil-moisture-chart" width="400" height="200"></canvas> <!-- Biểu đồ độ ẩm đất -->
        </section>

        <section id="activity-history">
            <h3>Lịch Sử Hoạt Động</h3>
            <table id="pump-history-table">
                <thead>
                    <tr>
                        <th>Thời gian</th>
                        <th>Chế độ</th>
                        <th>Trạng thái</th>
                    </tr>
                </thead>
                <tbody id="pump-history"></tbody> <!-- Nơi dữ liệu lịch sử sẽ được thêm vào -->
            </table>
        </section>
        
        <button onclick="logout()">Đăng Xuất</button>
    </main>
    <script src="js/dashboard.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</body>

</html>